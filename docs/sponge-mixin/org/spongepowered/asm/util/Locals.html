<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Locals (Mixin 0.9.2+mixin.0.8.2 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.spongepowered.asm.util, class: Locals">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.spongepowered.asm.util</a></div>
<h1 title="Class Locals" class="title">Class Locals</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.spongepowered.asm.util.Locals</div>
</div>
<section class="description">
<hr>
<pre>public final class <span class="type-name-label">Locals</span>
extends java.lang.Object</pre>
<div class="block">Utility methods for working with local variables using ASM</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="table-tab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>static int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#computeFrameSize(org.objectweb.asm.tree.FrameNode)">computeFrameSize</a></span>&#8203;(org.objectweb.asm.tree.FrameNode&nbsp;frameNode)</code></th>
<td class="col-last">
<div class="block">Compute the size required to accomodate the entries described by the
 supplied frame node</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>static java.util.List&lt;org.objectweb.asm.tree.LocalVariableNode&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#generateLocalVariableTable(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode)">generateLocalVariableTable</a></span>&#8203;(org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method)</code></th>
<td class="col-last">
<div class="block">Use ASM Analyzer to generate the local variable table for the specified
 method</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>static java.lang.String</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getFrameTypeName(java.lang.Object)">getFrameTypeName</a></span>&#8203;(java.lang.Object&nbsp;frameEntry)</code></th>
<td class="col-last">
<div class="block">Debug function to return printable name of a frame entry</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>static java.util.List&lt;org.objectweb.asm.tree.LocalVariableNode&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getGeneratedLocalVariableTable(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode)">getGeneratedLocalVariableTable</a></span>&#8203;(org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method)</code></th>
<td class="col-last">
<div class="block">Gets the generated the local variable table for the specified method.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>static org.objectweb.asm.tree.LocalVariableNode[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getLocalsAt(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode,org.objectweb.asm.tree.AbstractInsnNode)">getLocalsAt</a></span>&#8203;(org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method,
org.objectweb.asm.tree.AbstractInsnNode&nbsp;node)</code></th>
<td class="col-last">
<div class="block">Attempts to identify available locals at an arbitrary point in the
 bytecode specified by node.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>static org.objectweb.asm.tree.LocalVariableNode</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getLocalVariableAt(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode,org.objectweb.asm.tree.AbstractInsnNode,int)">getLocalVariableAt</a></span>&#8203;(org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method,
org.objectweb.asm.tree.AbstractInsnNode&nbsp;node,
int&nbsp;var)</code></th>
<td class="col-last">
<div class="block">Attempts to locate the appropriate entry in the local variable table for
 the specified local variable index at the location specified by node.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>static java.util.List&lt;org.objectweb.asm.tree.LocalVariableNode&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getLocalVariableTable(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode)">getLocalVariableTable</a></span>&#8203;(org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method)</code></th>
<td class="col-last">
<div class="block">Fetches or generates the local variable table for the specified method.</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>static void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#loadLocals(org.objectweb.asm.Type%5B%5D,org.objectweb.asm.tree.InsnList,int,int)">loadLocals</a></span>&#8203;(org.objectweb.asm.Type[]&nbsp;locals,
org.objectweb.asm.tree.InsnList&nbsp;insns,
int&nbsp;pos,
int&nbsp;limit)</code></th>
<td class="col-last">
<div class="block">Injects appropriate LOAD opcodes into the supplied InsnList for each
 entry in the supplied locals array starting at pos</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="loadLocals(org.objectweb.asm.Type[],org.objectweb.asm.tree.InsnList,int,int)">
<h3>loadLocals</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">loadLocals</span>&#8203;(<span class="parameters">org.objectweb.asm.Type[]&nbsp;locals,
org.objectweb.asm.tree.InsnList&nbsp;insns,
int&nbsp;pos,
int&nbsp;limit)</span></div>
<div class="block">Injects appropriate LOAD opcodes into the supplied InsnList for each
 entry in the supplied locals array starting at pos</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>locals</code> - Local types (can contain nulls for uninitialised, TOP, or
      RETURN values in locals)</dd>
<dd><code>insns</code> - Instruction List to inject into</dd>
<dd><code>pos</code> - Start position</dd>
<dd><code>limit</code> - maximum number of locals to consume</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLocalsAt(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode,org.objectweb.asm.tree.AbstractInsnNode)">
<h3>getLocalsAt</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.objectweb.asm.tree.LocalVariableNode[]</span>&nbsp;<span class="member-name">getLocalsAt</span>&#8203;(<span class="parameters">org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method,
org.objectweb.asm.tree.AbstractInsnNode&nbsp;node)</span></div>
<div class="block"><p>Attempts to identify available locals at an arbitrary point in the
 bytecode specified by node.</p>
 
 <p>This method builds an approximate view of the locals available at an
 arbitrary point in the bytecode by examining the following features in
 the bytecode:</p> 
 <ul>
   <li>Any available stack map frames</li>
   <li>STORE opcodes</li>
   <li>The local variable table</li>
 </ul>
 
 <p>Inference proceeds by walking the bytecode from the start of the
 method looking for stack frames and STORE opcodes. When either of these
 is encountered, an attempt is made to cross-reference the values in the
 stack map or STORE opcode with the value in the local variable table
 which covers the code range. Stack map frames overwrite the entire
 simulated local variable table with their own value types, STORE opcodes
 overwrite only the local slot to which they pertain. Values in the
 simulated locals array are spaced according to their size (unlike the
 representation in FrameNode) and this TOP, NULL and UNINTITIALIZED_THIS
 opcodes will be represented as null values in the simulated frame.</p>
 
 <p>This code does not currently simulate the prescribed JVM behaviour
 where overwriting the second slot of a DOUBLE or LONG actually
 invalidates the DOUBLE or LONG stored in the previous location, so we
 have to hope (for now) that this behaviour isn't emitted by the compiler
 or any upstream transformers. I may have to re-think this strategy if
 this situation is encountered in the wild.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>classNode</code> - ClassNode containing the method, used to initialise the
      implicit "this" reference in simple methods with no stack frames</dd>
<dd><code>method</code> - MethodNode to explore</dd>
<dd><code>node</code> - Node indicating the position at which to determine the locals
      state. The locals will be enumerated UP TO the specified node, so
      bear in mind that if the specified node is itself a STORE opcode,
      then we will be looking at the state of the locals PRIOR to its
      invocation</dd>
<dt>Returns:</dt>
<dd>A sparse array containing a view (hopefully) of the locals at the
      specified location</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLocalVariableAt(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode,org.objectweb.asm.tree.AbstractInsnNode,int)">
<h3>getLocalVariableAt</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.objectweb.asm.tree.LocalVariableNode</span>&nbsp;<span class="member-name">getLocalVariableAt</span>&#8203;(<span class="parameters">org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method,
org.objectweb.asm.tree.AbstractInsnNode&nbsp;node,
int&nbsp;var)</span></div>
<div class="block">Attempts to locate the appropriate entry in the local variable table for
 the specified local variable index at the location specified by node.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>classNode</code> - Containing class</dd>
<dd><code>method</code> - Method</dd>
<dd><code>node</code> - Instruction defining the location to get the local variable
      table at</dd>
<dd><code>var</code> - Local variable index</dd>
<dt>Returns:</dt>
<dd>a LocalVariableNode containing information about the local
      variable at the specified location in the specified local slot</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLocalVariableTable(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode)">
<h3>getLocalVariableTable</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">java.util.List&lt;org.objectweb.asm.tree.LocalVariableNode&gt;</span>&nbsp;<span class="member-name">getLocalVariableTable</span>&#8203;(<span class="parameters">org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method)</span></div>
<div class="block">Fetches or generates the local variable table for the specified method.
 Since Mojang strip the local variable table as part of the obfuscation
 process, we need to generate the local variable table when running
 obfuscated. We cache the generated tables so that we only need to do the
 relatively expensive calculation once per method we encounter.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>classNode</code> - Containing class</dd>
<dd><code>method</code> - Method</dd>
<dt>Returns:</dt>
<dd>local variable table</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getGeneratedLocalVariableTable(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode)">
<h3>getGeneratedLocalVariableTable</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">java.util.List&lt;org.objectweb.asm.tree.LocalVariableNode&gt;</span>&nbsp;<span class="member-name">getGeneratedLocalVariableTable</span>&#8203;(<span class="parameters">org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method)</span></div>
<div class="block">Gets the generated the local variable table for the specified method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>classNode</code> - Containing class</dd>
<dd><code>method</code> - Method</dd>
<dt>Returns:</dt>
<dd>generated local variable table</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="generateLocalVariableTable(org.objectweb.asm.tree.ClassNode,org.objectweb.asm.tree.MethodNode)">
<h3>generateLocalVariableTable</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">java.util.List&lt;org.objectweb.asm.tree.LocalVariableNode&gt;</span>&nbsp;<span class="member-name">generateLocalVariableTable</span>&#8203;(<span class="parameters">org.objectweb.asm.tree.ClassNode&nbsp;classNode,
org.objectweb.asm.tree.MethodNode&nbsp;method)</span></div>
<div class="block">Use ASM Analyzer to generate the local variable table for the specified
 method</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>classNode</code> - Containing class</dd>
<dd><code>method</code> - Method</dd>
<dt>Returns:</dt>
<dd>generated local variable table</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computeFrameSize(org.objectweb.asm.tree.FrameNode)">
<h3>computeFrameSize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">computeFrameSize</span>&#8203;(<span class="parameters">org.objectweb.asm.tree.FrameNode&nbsp;frameNode)</span></div>
<div class="block">Compute the size required to accomodate the entries described by the
 supplied frame node</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frameNode</code> - frame node with locals to compute</dd>
<dt>Returns:</dt>
<dd>size of frame node locals</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFrameTypeName(java.lang.Object)">
<h3>getFrameTypeName</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">java.lang.String</span>&nbsp;<span class="member-name">getFrameTypeName</span>&#8203;(<span class="parameters">java.lang.Object&nbsp;frameEntry)</span></div>
<div class="block">Debug function to return printable name of a frame entry</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frameEntry</code> - Frame entry</dd>
<dt>Returns:</dt>
<dd>string representation of the supplied frame entry</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
